/*!
 * @splidejs/splide-extension-grid
 * Version  : 0.4.1
 * License  : MIT
 * Copyright: 2022 Naotoshi Fujita
 */
!function(n){"function"==typeof define&&define.amd?define(n):n()}((function(){"use strict";function n(n,t,e){return Array.prototype.slice.call(n,t,e)}function t(t){return t.bind.apply(t,[null].concat(n(arguments,1)))}function e(n,t){return typeof t===n}var i=Array.isArray;function r(n){return i(n)?n:[n]}function o(n,t){r(n).forEach(t)}t(e,"function"),t(e,"string"),t(e,"undefined");var u=Object.keys;function c(n,t,e){if(n){var i=u(n);i=e?i.reverse():i;for(var r=0;r<i.length;r++){var o=i[r];if("__proto__"!==o&&!1===t(n[o],o))break}}return n}function f(e){var u=e?e.event.bus:document.createDocumentFragment(),f=function(){var n=[];function t(n,t,e){o(n,(function(n){n&&o(t,(function(t){t.split(" ").forEach((function(t){var i=t.split(".");e(n,i[0],i[1])}))}))}))}return{bind:function(e,i,r,o){t(e,i,(function(t,e,i){var u="addEventListener"in t,c=u?t.removeEventListener.bind(t,e,r,o):t.removeListener.bind(t,r);u?t.addEventListener(e,r,o):t.addListener(r),n.push([t,e,i,r,c])}))},unbind:function(e,i,r){t(e,i,(function(t,e,i){n=n.filter((function(n){return!!(n[0]!==t||n[1]!==e||n[2]!==i||r&&n[3]!==r)||(n[4](),!1)}))}))},dispatch:function(n,t,e){var i;return"function"==typeof CustomEvent?i=new CustomEvent(t,{bubbles:!0,detail:e}):(i=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!1,e),n.dispatchEvent(i),i},destroy:function(){n.forEach((function(n){n[4]()})),n.length=0}}}();return e&&e.event.on("destroy",f.destroy),function(t){return n(arguments,1).forEach((function(n){c(n,(function(e,i){t[i]=n[i]}))})),t}(f,{bus:u,on:function(n,t){f.bind(u,r(n).join(" "),(function(n){t.apply(t,i(n.detail)?n.detail:[])}))},off:t(f.unbind,u),emit:function(t){f.dispatch(u,t,n(arguments,1))}})}function s(n){n.length=0}function a(n,t,e){return Array.prototype.slice.call(n,t,e)}function d(n){return n.bind.apply(n,[null].concat(a(arguments,1)))}function l(n,t){return typeof t===n}var v=Array.isArray;d(l,"function");var p=d(l,"string"),h=d(l,"undefined");function m(n){return null===n}function g(n){return v(n)?n:[n]}function y(n,t){g(n).forEach(t)}function E(n,t){return n.push.apply(n,g(t)),n}function _(n,t,e){n&&y(t,(function(t){t&&n.classList[e?"add":"remove"](t)}))}function b(n,t){_(n,p(t)?t.split(" "):t,!0)}function w(n,t){y(t,n.appendChild.bind(n))}function A(n,t){return n instanceof HTMLElement&&(n.msMatchesSelector||n.matches).call(n,t)}function C(n,t){return t?function(n,t){var e=n?a(n.children):[];return t?e.filter((function(n){return A(n,t)})):e}(n,t)[0]:n.firstElementChild}var x=Object.keys;function L(n,t,e){if(n){var i=x(n);i=e?i.reverse():i;for(var r=0;r<i.length;r++){var o=i[r];if("__proto__"!==o&&!1===t(n[o],o))break}}return n}function M(n,t){y(n,(function(n){y(t,(function(t){n&&n.removeAttribute(t)}))}))}function k(n,t,e){var i;!m(i=t)&&l("object",i)?L(t,(function(t,e){k(n,e,t)})):y(n,(function(n){m(e)||""===e?M(n,t):n.setAttribute(t,String(e))}))}function S(n,t,e){var i=document.createElement(n);return t&&(p(t)?b(i,t):k(i,t)),e&&w(e,i),i}function j(n,t,e){if(h(e))return getComputedStyle(n)[t];m(e)||(n.style[t]=""+e)}function N(n,t){return t?a(n.querySelectorAll(t)):[]}function D(n,t){_(n,t,!1)}function F(n){return p(n)?n:n?n+"px":""}var I=Math.min;Math.max,Math.floor,Math.ceil,Math.abs;var O={rows:1,cols:1,dimensions:[],gap:{}};function q(n){function t(){var t=n.rows,e=n.cols,i=n.dimensions;return v(i)&&i.length?i:[[t,e]]}return{get:function(n){var e=t();return e[I(n,e.length-1)]},getAt:function(n){for(var e,i,r=t(),o=0,u=0;u<r.length;u++){var c=r[u];if(n<(o+=(e=c[0]||1)*(i=c[1]||1)))break}return function(n,t){if(!n)throw new Error("[splide] "+(t||""))}(e&&i,"Invalid dimension"),[e,i]}}}function B(n,t,e){var i=f(n),r=i.on,o=i.destroy,u=n.Components,c=n.options,s=u.Direction.resolve,a=u.Slides.forEach;function d(n,t){var e=C(n,".splide__slide__container"),i=C(e||n,"img");i&&i.src&&(j(e||n,"background",t?"":'center/cover no-repeat url("'+i.src+'")'),j(i,"display",t?"":"none"))}function l(n){return N(n,".splide__slide__row")}function v(n){return N(n,".splide__slide--col")}function p(n,t){v(n).forEach((function(n){k(n,"tabindex",t?0:null)}))}function h(n){p(n.slide,!0)}function m(n){p(n.slide,!1)}return{mount:function(){a((function(i){var r=i.slide,o=e.get(i.isClone?i.slideIndex:i.index),u=o[0],c=o[1];!function(n,e){var i=t.gap.row,r="calc("+100/n+"%"+(i?" - "+F(i)+" * "+(n-1)/n:"")+")";l(e).forEach((function(n,t,e){j(n,"height",r),j(n,"display","flex"),j(n,"margin","0 0 "+F(i)+" 0"),j(n,"padding",0),t===e.length-1&&j(n,"marginBottom",0)}))}(u,r),function(n,e){var i=t.gap.col,r="calc("+100/n+"%"+(i?" - "+F(i)+" * "+(n-1)/n:"")+")";v(e).forEach((function(n,t,e){j(n,"width",r),t!==e.length-1&&j(n,s("marginRight"),F(i))}))}(c,r),v(i.slide).forEach((function(t,e){var r;t.id=i.slide.id+"-col"+((r=e+1)<10?"0"+r:""+r),n.options.cover&&d(t)}))})),c.slideFocus&&(r("visible",h),r("hidden",m))},destroy:function(){a((function(n){var t=n.slide;p(t,!1),l(t).forEach((function(n){M(n,"style")})),v(t).forEach((function(n){d(n,!0),M(n,"style")}))})),o()}}}"undefined"!=typeof window&&(window.splide=window.splide||{},window.splide.Extensions=window.splide.Extensions||{},window.splide.Extensions.Grid=function(n,t,e){var i=f(n),r=i.on,o=i.off,u=t.Elements,c={},d=q(c),l=B(n,c,d),p=[];function h(){var t,i,f,s,l,h,y;t=c,g(i||x(t)).forEach((function(n){delete t[n]})),function(n){a(arguments,1).forEach((function(t){L(t,(function(e,i){n[i]=t[i]}))}))}(c,O,e.grid||{}),!function(){if(e.grid){var n=c.cols,t=c.dimensions;return c.rows>1||n>1||v(t)&&t.length>0}return!1}()?C()&&(m(),_()):(m(),E(p,u.slides),b(n.root,"splide--grid"),w(u.list,(l=[],h=0,y=0,p.forEach((function(n,t){var e=d.getAt(t),i=e[0],r=e[1];y||(h||(f=S(n.tagName,"splide__slide"),l.push(f)),s=function(n,t,e){return S("li"===t.tagName.toLowerCase()?"ul":"div","splide__slide__row",e)}(0,n,f)),function(n,t,e){b(t,"splide__slide--col"),w(e,t)}(0,n,s),++y>=r&&(y=0,h=++h>=i?0:h)})),l)),o("refresh"),r("refresh",A),_())}function m(){if(C()){var t=u.slides;l.destroy(),p.forEach((function(n){D(n,"splide__slide--col"),w(u.list,n)})),y(t,(function(n){n&&n.parentNode&&n.parentNode.removeChild(n)})),D(n.root,"splide--grid"),s(t),E(t,p),s(p),o("refresh")}}function _(){n.refresh()}function A(){C()&&l.mount()}function C(){return t=n.root,e="splide--grid",t&&t.classList.contains(e);var t,e}return{mount:function(){h(),r("updated",h)},destroy:m}})}));